# 📒 PWA 記事本

一個功能完整的 Progressive Web App (PWA) 記事本應用程式，支援離線使用、語音輸入、記事和清單管理。

## ✨ 功能特色

- 📝 **雙模式編輯**：支援一般記事和待辦清單兩種模式
- 🎤 **語音輸入**：使用語音辨識快速輸入內容
- 🔍 **即時搜尋**：快速搜尋筆記標題、內容和清單項目
- 💾 **離線優先**：使用 IndexedDB 儲存，完全離線可用
- 📱 **PWA 支援**：可安裝到手機桌面，像原生 App 一樣使用
- 🌙 **深色主題**：護眼的深色介面設計
- ⚡ **自動儲存**：輸入內容自動儲存，無需手動保存
- 📊 **響應式設計**：完美適配手機、平板和電腦

## 🌐 適用平台與瀏覽器

### ✅ 完全支援

| 平台 | 瀏覽器 | 語音輸入 | PWA 安裝 | 離線功能 |
|------|--------|----------|----------|----------|
| **Windows** | Chrome 90+ | ✅ | ✅ | ✅ |
| **Windows** | Edge 90+ | ✅ | ✅ | ✅ |
| **macOS** | Chrome 90+ | ✅ | ✅ | ✅ |
| **macOS** | Safari 14.5+ | ⚠️ 有限 | ✅ | ✅ |
| **Android** | Chrome 90+ | ✅ | ✅ | ✅ |
| **Android** | Samsung Internet | ✅ | ✅ | ✅ |
| **iOS** | Safari 14.5+ | ⚠️ 有限 | ✅ | ✅ |

### ⚠️ 部分支援

| 平台 | 瀏覽器 | 限制說明 |
|------|--------|----------|
| **所有平台** | Firefox | ❌ 不支援語音輸入（Firefox 不支援 Web Speech API） |
| **所有平台** | Opera | ⚠️ 語音輸入可能不穩定 |

### 📱 行動裝置特別說明

- **Android Chrome**：完整支援所有功能，建議使用
- **iOS Safari**：語音輸入需要 iOS 14.5 以上版本
- **PWA 安裝**：Android 和 iOS 都支援，安裝後可離線使用

## 🚀 快速開始

### 安裝依賴

```bash
npm install
```

### 開發模式

```bash
npm run dev
```

應用程式將在 `http://localhost:5173` 啟動

### 建置生產版本

```bash
npm run build
```

建置完成的檔案會在 `dist/` 目錄

### 預覽生產版本

```bash
npm run preview
```

## 📖 使用說明

### 基本操作

1. **新增記事**：點擊首頁的「📝 新增記事」按鈕
2. **新增清單**：點擊首頁的「☑️ 新增清單」按鈕
3. **編輯筆記**：點擊筆記卡片進入編輯頁面
4. **搜尋筆記**：在首頁搜尋框輸入關鍵字
5. **刪除筆記**：在編輯頁面點擊「🗑️ 刪除」按鈕，或在首頁卡片上懸停顯示刪除按鈕

### 語音輸入功能

#### 🎤 使用語音輸入

1. 在編輯頁面找到 🎤 圖示的語音按鈕
2. 點擊按鈕開始錄音（按鈕會變成 🔴 紅色）
3. 對著麥克風說話
4. 再次點擊按鈕停止錄音
5. 語音內容會自動轉換為文字並插入到編輯區

#### ⚠️ 麥克風權限設定

**首次使用時，瀏覽器會要求麥克風權限，請選擇「允許」**

如果權限被拒絕，按鈕會顯示 🚫 圖示，點擊可查看如何重新開啟權限：

**Android Chrome：**
1. 點擊網址列左側的 🔒 圖示
2. 選擇「網站設定」
3. 找到「麥克風」並設為「允許」
4. 重新整理頁面

**iOS Safari：**
1. 前往「設定」→「Safari」
2. 選擇「麥克風」
3. 允許此網站使用麥克風

**電腦瀏覽器：**
1. 點擊網址列左側的 🔒 圖示
2. 找到「麥克風」權限
3. 選擇「允許」

#### 📝 語音輸入注意事項

- ✅ **支援的語言**：中文（繁體）
- ✅ **最佳環境**：安靜的環境，距離麥克風 30-50 公分
- ⚠️ **網路需求**：語音辨識需要網路連線（使用瀏覽器的語音辨識服務）
- ⚠️ **隱私說明**：語音資料會傳送到瀏覽器廠商的語音辨識服務（Google/Apple），不會儲存在本應用程式中

### 待辦清單功能

- **新增項目**：在輸入框輸入內容後按 Enter 或點擊「新增」按鈕
- **勾選完成**：點擊項目左側的方框
- **編輯項目**：直接點擊項目文字進行編輯
- **調整順序**：使用 ▲ ▼ 按鈕上下移動項目
- **刪除項目**：點擊 ✕ 按鈕刪除項目

### PWA 安裝

#### Android Chrome

1. 開啟應用程式
2. 瀏覽器會自動顯示「安裝」橫幅，或點擊選單（⋮）→「安裝應用程式」
3. 確認安裝

#### iOS Safari

1. 開啟應用程式
2. 點擊分享按鈕（□↑）
3. 選擇「加入主畫面」
4. 確認加入

#### 電腦瀏覽器

1. 開啟應用程式
2. 點擊網址列右側的「安裝」圖示
3. 確認安裝

安裝後，應用程式會像原生 App 一樣出現在桌面，可以離線使用。

## ⚠️ 使用注意事項

### 資料儲存

- ✅ **本地儲存**：所有資料儲存在瀏覽器的 IndexedDB 中
- ✅ **離線可用**：完全離線環境下也能正常使用
- ⚠️ **資料備份**：目前不支援雲端同步，建議定期匯出備份
- ⚠️ **清除資料**：清除瀏覽器資料會刪除所有筆記

### 瀏覽器相容性

- **語音輸入**：僅支援 Chrome、Edge、Safari（iOS 14.5+），不支援 Firefox
- **PWA 功能**：所有現代瀏覽器都支援
- **離線功能**：需要支援 Service Worker 的瀏覽器

### 效能建議

- 📱 **手機端**：建議使用 Chrome 瀏覽器以獲得最佳體驗
- 💻 **電腦端**：Chrome 或 Edge 皆可
- 📊 **大量筆記**：當筆記數量超過 1000 筆時，搜尋速度可能會變慢

### 已知限制

1. **語音辨識**：
   - 需要網路連線
   - 不支援離線語音辨識
   - Firefox 不支援此功能

2. **資料同步**：
   - 目前不支援多裝置同步
   - 資料僅儲存在本地瀏覽器

3. **匯入/匯出**：
   - 目前不支援匯入/匯出功能（未來版本可能加入）

## 🛠️ 技術棧

- **前端框架**：React 18 + TypeScript
- **路由**：React Router v6
- **資料庫**：Dexie (IndexedDB 封裝)
- **建置工具**：Vite
- **PWA**：vite-plugin-pwa
- **樣式**：CSS Variables + 自訂樣式

## 📁 專案結構

```
pwa-notepad/
├── src/
│   ├── components/      # React 元件
│   │   ├── ChecklistEditor.tsx
│   │   ├── NoteEditor.tsx
│   │   ├── NotePreview.tsx
│   │   ├── OfflineIndicator.tsx
│   │   ├── SpeechButton.tsx
│   │   └── Toast.tsx
│   ├── hooks/           # 自訂 Hooks
│   │   ├── useDebounce.ts
│   │   ├── useDebounceValue.ts
│   │   ├── useOnlineStatus.ts
│   │   └── useSpeechRecognition.ts
│   ├── pages/          # 頁面元件
│   │   ├── EditPage.tsx
│   │   ├── ListPage.tsx
│   │   └── NewPage.tsx
│   ├── db.ts           # 資料庫操作
│   ├── types.ts        # TypeScript 類型定義
│   ├── App.tsx
│   └── main.tsx
├── public/             # 靜態資源
│   └── icons/         # PWA 圖示
├── dist/              # 建置輸出
├── vite.config.ts     # Vite 設定
└── package.json
```

## 🔧 開發說明

### 環境需求

- Node.js 18+ 
- npm 或 yarn

### 開發指令

```bash
# 安裝依賴
npm install

# 開發模式（自動開啟瀏覽器）
npm run dev:open

# 開發模式
npm run dev

# 建置生產版本
npm run build

# 預覽生產版本
npm run preview
```

### 程式碼規範

- 使用 TypeScript strict mode
- 元件使用函數式寫法
- 使用 React Hooks
- CSS 使用 CSS Variables 管理主題

## 📝 更新日誌

### v1.0.0 (2024)

- ✅ 基本記事功能
- ✅ 待辦清單功能
- ✅ 語音輸入支援
- ✅ 離線儲存
- ✅ PWA 安裝支援
- ✅ 響應式設計
- ✅ 深色主題

## 📄 授權

本專案為個人專案，僅供學習使用。

## 🤝 貢獻

歡迎提出 Issue 或 Pull Request！

## 📧 聯絡方式

如有問題或建議，歡迎提出 Issue。

---

**享受你的記事本體驗！** 📝✨
